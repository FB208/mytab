:root {
  /* 基础底色与文字 */
  --bg: #eef2f5;             /* 柔和浅灰蓝 */
  --surface: #f7fafc;         /* 元素表面色 */
  --text: #0f172a;            /* 深色文字 */
  --text-dim: #6b7280;        /* 次要文字 */

  /* 清爽不偏紫的强调色（薄荷蓝 + 暖杏橙作为点缀，可选） */
  --primary: #4ea8de;         /* 薄荷蓝 */
  --primary-ghost: rgba(78,168,222,0.18);
  --accent-warm: #f2b36a;      /* 暖杏橙，尽量少用 */

  /* 拟态阴影（外凸）与按下时（内凹） */
  --shadow-dark: 10px 10px 24px rgba(163,177,198,0.6);
  --shadow-light: -10px -10px 24px rgba(255,255,255,0.85);
  --shadow-dark-sm: 4px 4px 10px rgba(163,177,198,0.55);
  --shadow-light-sm: -4px -4px 10px rgba(255,255,255,0.9);
  --shadow-dark-lg: 12px 12px 30px rgba(163,177,198,0.62);
  --shadow-light-lg: -12px -12px 30px rgba(255,255,255,0.9);
  /* 新的柔和投影 */
  --elev-1: 0 4px 14px rgba(15,23,42,0.08);
  --elev-2: 0 8px 30px rgba(15,23,42,0.10);

  /* 尺寸与圆角 */
  --radius-lg: 20px;
  --radius-md: 16px;
  --radius-sm: 12px;
  --ctl-height: 44px;
  --ctl-radius: 12px;
  --ctl-sm-height: 36px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: 'Inter', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  font-size: 14px;
  color: var(--text);
  background: var(--bg);
}

#bg { position: fixed; inset: 0; background: linear-gradient(180deg, #f9fbfd, #eef2f5); z-index: 0; background-position: center center; background-repeat: no-repeat; background-size: cover; }
#bg::after { content: ""; position: absolute; inset: 0; pointer-events: none; background: rgba(255,255,255,0.36);  }

#app { position: relative; z-index: 1; display: grid; grid-template-columns: 280px 1fr; height: 100vh; }

/* 拟态卡片：减弱发光，采用柔和阴影 */
.glass { background: rgba(255,255,255,0.44); border: 1px solid rgba(255,255,255,0.28); border-radius: var(--radius-md); box-shadow: var(--elev-1); backdrop-filter: blur(14px) saturate(140%); -webkit-backdrop-filter: blur(14px) saturate(140%); }

.sidebar { padding: 16px; margin: 16px; display: flex; flex-direction: column; gap: 12px;   border-radius: var(--radius-md); }
.sidebar-header { display:flex; align-items:center; justify-content: space-between; }
.brand { font-weight: 700; letter-spacing: 0.3px; }
.icon-btn { background: var(--surface); border: 1px solid rgba(255,255,255,0.35); color: var(--text); border-radius: var(--radius-sm); padding: 6px 12px; cursor: pointer; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); transition: box-shadow .15s ease, transform .12s ease; }
.icon-btn:hover { box-shadow: 0 0 0 rgba(0,0,0,0), var(--shadow-light-sm), var(--shadow-dark-sm); }
.icon-btn:active { box-shadow: inset var(--shadow-dark-sm), inset var(--shadow-light-sm); }
 /* 设置按钮的样式*/
 #btn-settings{ background: transparent; border: 1px solid rgba(255,255,255,0.45); box-shadow: none; padding: 0; width: 36px; height: 36px; font-size: 20px; display: flex; align-items: center; justify-content: center; line-height: 1; border-radius: 50%; cursor: pointer; color: var(--primary); position: relative; transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1); }
 #btn-settings::before{ content: ""; position: absolute; inset: 3px; border-radius: 50%; background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.45), rgba(255,255,255,0)); pointer-events: none; }
 #btn-settings::after{ content: ""; position: absolute; inset: 0; border-radius: 50%; padding: 1px; background: linear-gradient(145deg, rgba(255,255,255,0.9), rgba(15,23,42,0.10)); -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; opacity: 1; transition: opacity .18s ease, transform .18s ease; pointer-events: none; }
 #btn-settings:hover{ transform: scale(1.15) rotate(15deg); opacity: 1; }
 #btn-settings:active{ transform: scale(.97); opacity: 1; }

.folder-list { display: flex; flex-direction: column; gap: 10px; overflow-y: auto; overflow-x: visible; padding: 6px; padding-top:12px; border-radius: var(--radius-md); }
.folder-item { position: relative; display:flex; align-items:center; gap:10px; padding:0 12px; height: var(--ctl-height); margin: 2px 6px; border-radius: var(--ctl-radius); cursor:pointer; transition: transform .15s ease, box-shadow .15s ease, background .15s ease; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); overflow: hidden; }
.folder-item:hover { transform: translateY(-1px); }
.folder-item.active { box-shadow: inset var(--shadow-dark-sm), inset var(--shadow-light-sm); background: var(--surface); }
.folder-item.active::before { content: ''; position: absolute; left: 6px; top: 10px; width: 3px; height: calc(100% - 20px); border-radius: 3px; background: linear-gradient(180deg, var(--primary), rgba(78,168,222,0.45)); }
.folder-item .icon { width:24px; height:24px; display:grid; place-items:center; }
.folder-item .name { font-weight: 600; }

.primary-btn, .ghost-btn, .mini-btn { cursor: pointer; border-radius: var(--ctl-radius); border: 1px solid rgba(255,255,255,0.35); color: var(--text); transition: box-shadow .15s ease, transform .12s ease; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
.primary-btn { background: var(--primary); padding: 0 18px; font-weight: 700; color: #fff; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); height: var(--ctl-height); }
.primary-btn:hover { filter: brightness(1.05); }
.ghost-btn { background: rgba(255,255,255,0.60); padding: 0 18px; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); height: var(--ctl-height); }
.ghost-btn:hover { background: rgba(17,24,39,0.05); }
.mini-btn { background: rgba(255,255,255,0.60); padding: 6px 10px; font-size: 12px; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); height: 32px; border-radius: 10px; }
.mini-btn:hover { transform: translateY(-1px); }
.primary-btn:active, .ghost-btn:active, .mini-btn:active { box-shadow: inset var(--shadow-dark-sm), inset var(--shadow-light-sm); }

/* 半透明蓝色的“新建一级文件夹”按钮，宽度与文件夹项对齐 */
#btn-add-folder { display: block; margin: 2px 12px; height: var(--ctl-height); border-radius: var(--ctl-radius); background: rgba(78,168,222,0.25); color: var(--primary); border: 1px solid rgba(78,168,222,0.35); box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); font-weight: 700; font-size:18px; }
#btn-add-folder:hover { filter: brightness(1.05); }
#btn-add-folder:active { box-shadow: inset var(--shadow-dark-sm), inset var(--shadow-light-sm); background: rgba(78,168,222,0.30); }

.content { padding: 16px 16px 32px 0; display:flex; flex-direction: column; gap: 12px; position: relative; }
.content-header { display:flex; align-items:center; justify-content: flex-start; padding: 10px 16px 8px 16px; gap: 12px; border-radius: 0; background: transparent; box-shadow: none; border-bottom: 1px solid rgba(15,23,42,0.06); }
.content-header .left { display: flex; align-items: center; }

#btn-toggle-sidebar {
  display: none; /* Hidden by default on desktop */
  width: 40px;
  height: 40px;
  padding: 0;
  align-items: center;
  justify-content: center;
  background: transparent;
  box-shadow: none;
  border: none;
  cursor: pointer;
  color: var(--text);
}

.content-header .right { display:flex; align-items:center; gap: 12px; }
.search { font-size: 16px; background: var(--surface); color: var(--text); border: none; border-radius: var(--ctl-radius); padding: 0 16px; min-width: 280px; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); height: var(--ctl-height); line-height: var(--ctl-height); -webkit-appearance: none; }
.search::placeholder { color: var(--text-dim); }
.search:focus, .search:focus-visible { outline: none; box-shadow: inset var(--shadow-dark-sm), inset var(--shadow-light-sm); }
/* 提升标题在任意背景下的可读性 */
.content-header h1 { position: relative; font-size: 20px; font-weight: 600; letter-spacing: 0.2px; margin: 0; padding: 6px 12px; border-radius: 12px; background: rgba(255,255,255,0.55); border: 1px solid rgba(255,255,255,0.45); box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px); text-shadow: 0 1px 1px rgba(15,23,42,0.08); }
.content-header h1::after { content: ""; position: absolute; left: 12px; right: 12px; bottom: 5px; height: 3px; border-radius: 3px; background: linear-gradient(90deg, rgba(78,168,222,0.45), rgba(78,168,222,0.18)); }

/* 文件夹头部容器 */
.folder-header { display: flex; flex-direction: column; gap: 4px; }

/* 面包屑导航 */
.breadcrumb-nav { display: flex; align-items: center; gap: 4px; font-size: 16px; color: var(--text-dim); }
.breadcrumb-item { padding: 2px 6px; border-radius: 6px; transition: all 0.2s ease; }
.breadcrumb-item.clickable { cursor: pointer; }
.breadcrumb-item.clickable:hover { background: rgba(78,168,222,0.1); color: var(--primary); }
.breadcrumb-item.current { color: var(--text); font-weight: 500; }
.breadcrumb-separator { opacity: 0.6; }

/* 浮动工具条：透明悬浮，无外框 */
.tools-floating { position: absolute; top: 10px; right: 16px; display:flex; align-items:center; gap: 10px; background: transparent; box-shadow: none; }
.tools-floating .search { min-width: 240px; height: var(--ctl-sm-height); line-height: var(--ctl-sm-height); border-radius: 10px; padding: 0 12px; font-size: 16px; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); background: rgba(255,255,255,0.6); border: 1px solid rgba(255,255,255,0.35); }

/* 子文件夹横向列表样式 */
.subfolders { 
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  padding: 0 16px;
  margin-bottom: 16px;
}

.subfolder-item {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 10px 16px;
  min-width: 180px;
  background: rgba(255,255,255,0.55);
  border: 1px solid rgba(255,255,255,0.35);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  cursor: pointer;
  transition: all 0.2s ease;
}

.subfolder-item:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-dark-lg), var(--shadow-light-lg);
}

.subfolder-item .left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.subfolder-item .icon {
  font-size: 20px;
}

.subfolder-item .name {
  font-weight: 600;
  color: var(--text);
}

.subfolder-item .right {
  display: flex;
  gap: 6px;
  opacity: 0;
  transition: opacity 0.2s ease;
}

.subfolder-item:hover .right {
  opacity: 1;
}

.bookmark-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 22px; }
.bookmark-card { padding: 12px; display:flex; flex-direction: column; align-items:center; gap: 10px; cursor: pointer; transition: transform .15s ease; background: transparent; border-radius: var(--radius-md); box-shadow: none; }
.bookmark-card:hover { transform: translateY(-3px); }
.bookmark-card .cover { width: 68px; height: 68px; border-radius: var(--radius-md); background: rgba(255,255,255,0.55); border:1px solid rgba(255,255,255,0.35); display:flex; align-items:center; justify-content:center; overflow:hidden; box-shadow: var(--shadow-dark-lg), var(--shadow-light-lg); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }
/* 统一图标显示尺寸与比例 */
.bookmark-card .cover img.favicon { width: 60px; height: 60px; object-fit: contain; border-radius: 12px; image-rendering: -webkit-optimize-contrast; }
.bookmark-card .cover .mono-icon { width: 60px; height: 60px; border-radius: 12px; display:grid; place-items:center; font-weight: 700; color:#fff; font-size: 28px; line-height: 1; }
.bookmark-card .title { display:block; font-weight:600; font-size: 13px; color: var(--text); max-width: 100%; text-align:center; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; padding: 2px 8px; border-radius: 10px; background: rgba(255,255,255,0.55); backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); text-shadow: 0 1px 2px rgba(0,0,0,0.14); }



@media (max-width: 900px) {
  #app { grid-template-columns: 80px 1fr; }
  .folder-item .name, .brand { display:none; }
}

/* Modal */
.modal-backdrop { position: fixed; inset: 0; background: rgba(17,24,39,0.35); backdrop-filter: blur(2px); z-index: 30; }
.modal { position: fixed; inset: 0; display:grid; place-items:center; z-index: 40; }
.modal .panel { width: 640px; max-width: calc(100vw - 48px); border-radius: var(--radius-md); box-shadow: var(--shadow-dark), var(--shadow-light); }
.modal .panel.glass { background: rgba(255,255,255,0.90); border: 1px solid rgba(255,255,255,0.70); backdrop-filter: blur(10px) saturate(140%); -webkit-backdrop-filter: blur(10px) saturate(140%); }
.modal .inner { padding: 20px; }
.modal .row { display:grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 10px; }
.modal .field { display:flex; flex-direction: column; gap: 8px; }
.modal .label { font-size: 12px; color: var(--text-dim); }
.hidden { display: none !important; }
/* 搜索列表 */
.search-list { display:flex; flex-direction: column; gap: 8px; max-height: 420px; margin-top:12px; }
.search-item { display:flex; align-items:center; gap: 10px; padding: 10px 12px; border-radius: var(--radius-sm); background: rgba(255,255,255,0.55); border:1px solid rgba(255,255,255,0.35); box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); cursor: pointer; backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); }
.search-item:hover { transform: translateY(-1px); }
.search-item .cover { width: 36px; height: 36px; border-radius: 10px; background: rgba(255,255,255,0.55); border:1px solid rgba(255,255,255,0.35); display:flex; align-items:center; justify-content:center; overflow:hidden; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); }
.search-item .cover img { width: 28px; height: 28px; object-fit: contain; }
.search-item .cover .mono { width: 28px; height: 28px; border-radius: 8px; display:grid; place-items:center; color:#fff; font-weight:700; font-size:14px; }
.search-item .meta { display:flex; flex-direction: column; min-width: 0; }
.search-item .meta .name { font-weight: 600; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.search-item .meta .url { color: var(--text-dim); font-size: 12px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Modal preview cover */
.modal .cover { width: 48px; height: 48px; border-radius: var(--radius-sm); background: var(--surface); display:flex; align-items:center; justify-content:center; overflow:hidden; box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); }
.modal .cover img { max-width: 28px; max-height: 28px; }
.modal .cover .mono-icon { width: 28px; height: 28px; border-radius: 8px; display:grid; place-items:center; font-weight:700; color:#fff; font-size: 16px; line-height: 1; }

.fav-candidates { display:flex; gap:10px; flex-wrap: wrap; margin-top: 6px; }
.fav-candidate { width:40px; height:40px; display:grid; place-items:center; border-radius:10px; background:#fff; border:1px solid var(--glass-border); box-shadow: var(--shadow); cursor:pointer; }
.fav-candidate img { max-width:24px; max-height:24px; }
.fav-candidate:hover { outline: 2px solid var(--primary); }

/* Options page layout */
.options-app { display:flex; justify-content:center; align-items:flex-start; min-height: 100vh; padding: 32px; box-sizing: border-box; }
.options-card { width: 840px; max-width: 100%; padding: 20px; background: var(--surface); box-shadow: var(--shadow-dark), var(--shadow-light); border-radius: var(--radius-md); }
.options-title { margin: 0 0 10px 0; }
.options-topbar { display:flex; align-items:center; justify-content: space-between; }
.options-section { display: grid; grid-template-columns: 1fr; gap: 18px; }
.options-block { }
.options-block-title { margin: 4px 0 10px 0; font-size: 16px; }
.options-grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items: end; }
.options-row { display:flex; align-items:center; gap: 16px; margin-bottom: 10px; }
.options-row:last-child { margin-bottom: 0; }
.options-row.wrap { flex-wrap: wrap; }
.options-actions { display:flex; align-items:center; gap: 10px; }
.options-list { list-style: none; padding: 0; margin-top: 10px; display:flex; flex-direction: column; gap: 8px; max-height: 360px; overflow: auto; padding-right: 6px; }

/* 滚动条拟态化 */
.options-list::-webkit-scrollbar { width: 10px; height: 10px; }
.options-list::-webkit-scrollbar-thumb { background: var(--surface); border-radius: 10px; box-shadow: inset var(--shadow-dark-sm), inset var(--shadow-light-sm); }
.options-list::-webkit-scrollbar-track { background: transparent; }

#backup-list li { padding: 10px 12px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; } .backup-item-footer { display: flex; align-items: center; gap: 16px; } .backup-date { opacity: 0.7; }

/* 导入功能描述样式 */
.options-help {
  margin: 8px 0 0 0;
  font-size: 12px;
  color: var(--text-dim);
  line-height: 1.4;
  opacity: 0.8;
}


/* 拖拽排序视觉反馈 */
.drag-over-top::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--primary), rgba(78,168,222,0.5));
  border-radius: 2px;
  z-index: 10;
}

.drag-over-bottom::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--primary), rgba(78,168,222,0.5));
  border-radius: 2px;
  z-index: 10;
}

.drag-over-center {
  background: rgba(78,168,222,0.15) !important;
  border: 2px dashed var(--primary) !important;
  transform: scale(1.02);
}

/* 横向拖拽区域视觉反馈（用于子文件夹） */
.drag-over-left {
  position: relative;
}
.drag-over-left::before {
  content: '';
  position: absolute;
  top: 10%;
  left: -3px;
  bottom: 10%;
  width: 3px;
  background: linear-gradient(180deg, var(--primary), rgba(78,168,222,0.8));
  border-radius: 2px;
  box-shadow: 2px 0 8px rgba(78,168,222,0.4);
  animation: smoothSlideVertical 0.3s ease-out;
  z-index: 10;
}

.drag-over-right {
  position: relative;
}
.drag-over-right::after {
  content: '';
  position: absolute;
  top: 10%;
  right: -3px;
  bottom: 10%;
  width: 3px;
  background: linear-gradient(180deg, var(--primary), rgba(78,168,222,0.8));
  border-radius: 2px;
  box-shadow: -2px 0 8px rgba(78,168,222,0.4);
  animation: smoothSlideVertical 0.3s ease-out;
  z-index: 10;
}
.drag-over-top {
  position: relative;
}
.drag-over-top::before {
  content: '';
  position: absolute;
  top: -3px;
  left: 10%;
  right: 10%;
  height: 3px;
  background: linear-gradient(90deg, var(--primary), rgba(78,168,222,0.8));
  border-radius: 2px;
  box-shadow: 0 2px 8px rgba(78,168,222,0.4);
  animation: smoothSlide 0.3s ease-out;
}

.drag-over-bottom {
  position: relative;
}
.drag-over-bottom::after {
  content: '';
  position: absolute;
  bottom: -3px;
  left: 10%;
  right: 10%;
  height: 3px;
  background: linear-gradient(90deg, var(--primary), rgba(78,168,222,0.8));
  border-radius: 2px;
  box-shadow: 0 2px 8px rgba(78,168,222,0.4);
  animation: smoothSlide 0.3s ease-out;
}

.drag-over-center {
  background: rgba(78,168,222,0.12) !important;
  border: 2px dashed var(--primary) !important;
  /* 移除外发光效果 */
  transform: scale(1.01) !important;
  transition: all 0.2s ease !important;
}

@keyframes smoothSlide {
  0% { 
    opacity: 0; 
    transform: scaleX(0.3) translateY(-2px); 
  }
  100% { 
    opacity: 1; 
    transform: scaleX(1) translateY(0); 
  }
}

@keyframes smoothSlideVertical {
  0% { 
    opacity: 0; 
    transform: scaleY(0.3) translateX(-2px); 
  }
  100% { 
    opacity: 1; 
    transform: scaleY(1) translateX(0); 
  }
}

/* 拖拽中的元素样式 */
[draggable="true"]:active {
  opacity: 0.7;
  transform: rotate(2deg);
  cursor: grabbing;
}

/* 通用小弹窗 */
.tm-message { margin-bottom: 8px; color: var(--text-dim); }

/* 自定义右键菜单 */
.context-menu { position: fixed; z-index: 1000; background: var(--surface); border-radius: var(--radius-sm); box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm); overflow: hidden; }
.context-menu ul { list-style: none; margin: 0; padding: 6px; display:flex; flex-direction: column; gap: 4px; }
.context-menu li { padding: 8px 12px; border-radius: var(--radius-sm); cursor: pointer; }
.context-menu li:hover { background: rgba(15,23,42,0.04); }
.options-wide { min-width: 320px; }
.options-field { display:flex; flex-direction: column; gap: 10px; }
.options-inline { display:flex; align-items:center; gap: 8px; }
.options-input-sm { width: 180px; }

/* 防止输入控件溢出容器 */
.options-card .search { width: 100%; }
.options-grid-2 .options-field > .search { width: 100%; }
.options-row > .search { width: auto; }

.choice-buttons {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
  margin-top: 16px;
}

.choice-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 12px;
  padding: 24px;
  border-radius: var(--radius-md);
  background: rgba(255, 255, 255, 0.5);
  border: 1px solid rgba(255, 255, 255, 0.3);
  box-shadow: var(--shadow-dark-sm), var(--shadow-light-sm);
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 16px;
  font-weight: 600;
  color: var(--text);
}

.choice-btn:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-dark-lg), var(--shadow-light-lg);
  background: rgba(255, 255, 255, 0.8);
}

.choice-btn .icon {
  font-size: 48px;
  line-height: 1;
}

@media (max-width: 900px) {
  #app { grid-template-columns: 80px 1fr; }
  .folder-item .name, .brand { display:none; }
}

@media (max-width: 720px) {
  .options-grid-2 { grid-template-columns: 1fr; }
  .options-app { padding: 16px; }
}

/* Mobile responsiveness */

/* Stop mobile browsers from zooming in on input fields. */
input[type="text"],
input[type="password"],
input[type="url"],
input[type="email"],
input[type="search"],
input[type="number"],
textarea,
.search {
  font-size: 16px;
}

@media (max-width: 768px) {
  #app {
    display: block;
  }

  .sidebar {
    position: fixed;
    top: 0;
    left: 0;
    bottom: 0;
    width: 280px;
    max-width: 85%;
    margin: 0;
    border-radius: 0 16px 16px 0;
    z-index: 1000;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    box-shadow: 0 0 40px rgba(0,0,0,0.2);
  }

  #app.sidebar-visible .sidebar {
    transform: translateX(0);
  }

  .content {
    padding: 16px;
  }

  .tools-floating {
    position: static;
    padding: 0 16px;
    width: 100%;
    margin-bottom: 16px;
  }

  .content-header {
    padding: 10px 0 8px 0;
  }

  #btn-toggle-sidebar {
    display: flex; /* Show on mobile */
    margin-right: 10px;
  }

  /* Hide text on folder items in sidebar to save space, similar to 900px breakpoint */
  .sidebar .folder-item .name, .sidebar .brand {
    display: block; /* Re-show them in the slide-out menu */
  }

  /* Adjust bookmark grid for smaller screens */
  .bookmark-grid {
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 16px;
  }

  /* Options Page Responsive */
  .options-app {
    padding: 16px;
  }
  .options-grid-2 {
    grid-template-columns: 1fr;
  }
  .options-row {
    flex-direction: column;
    align-items: stretch;
    gap: 12px;
  }
  .options-row > .search,
  .options-row > .primary-btn,
  .options-row > .ghost-btn {
    width: 100%;
    justify-content: center;
  }

  .modal .row {
    grid-template-columns: 1fr;
  }
  #backup-list li { row-gap: 8px; }  .backup-item-footer { width: 100%; justify-content: space-between; } .backup-date { font-size: 12px; }
  .tools-floating .search { min-width: 0; width: 100%; }

}
/* 加载状态样式 */
.fetch-status {
  display: flex;
  align-items: center;
  gap: 8px;
  color: var(--text-dim);
  font-size: 13px;
}

.loading-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--primary);
  animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 0.4;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

.hidden {
  display: none !important;
}

/* 数据版本显示 */
.data-version {
  position: fixed;
  bottom: 16px;
  right: 16px;
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: var(--radius-sm);
  padding: 6px 12px;
  font-size: 12px;
  color: var(--text-dim);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  box-shadow: var(--elev-1);
  z-index: 1000;
  user-select: none;
  cursor: default;
  transition: opacity 0.2s ease;
}

.data-version:hover {
  opacity: 0.9;
}

@media (max-width: 768px) {
  .data-version {
    bottom: 12px;
    right: 12px;
    font-size: 11px;
    padding: 4px 8px;
  }
}
